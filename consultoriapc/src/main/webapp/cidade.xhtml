<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
	
	
	<h:head>
		<title> Cadastro de Cidades</title>
	</h:head>
	
	<h:body>
	
			<ui:include src="/menu.xhtml"></ui:include>
			
			<h3>Cidades</h3>
			
			
			<h:form id="formCidade">
				<h:messages infoStyle="color:green; background:#D3D3D3" />
				
				<h:panelGrid columns="2">
					<f:facet name="header">
						<h:outputText value="Cadastro de Cidades"/>
					</f:facet>
				<h:outputLabel value="Id:" />
				<h:inputText value="#{cidadeBean.cidades.id}" readonly="true" />
				<h:outputLabel value="Nome:"/>
				<h:inputText value="#{cidadeBean.cidades.nome}"/>	
				
				
			<h:outputLabel value="Estados:" />
			<h:selectOneMenu value="#{cidadeBean.cidades.estado}" immediate="true" id="comboEstado" converter="estadoConverter">
				<f:selectItem itemLabel="---[SELECIONE]----" noSelectionOption="true"/>
				<f:selectItems value="#{pessoaBean.estados}" />
			</h:selectOneMenu>		
			
			
			<h:outputLabel />
			
				<h:panelGroup>
					
					<h:commandButton value="Novo" id="btnNovo" action="#{cidadeBean.novo}" 
						image="/resources/img/novo-usuario.png" title="Novo" >
					</h:commandButton>
					
					
					<h:commandButton value="Salvar" id="btnSalvar" action="#{cidadeBean.save}" image="/resources/img/salve-.png" title="Salvar"
					style="margin-left:1cm;"	>
					</h:commandButton>
					
					<h:commandButton value="Delete" id="btnExcluir" action="#{cidadeBean.delete}" image="/resources/img/delete.png" style="margin-left:1cm;"></h:commandButton>
					
					<h:commandButton value="Limpar"	action="#{cidadeBean.limpar}" image="/resources/img/reset.png"
					title="Limpar" style="margin-left:1cm;"></h:commandButton>
				</h:panelGroup>
				</h:panelGrid>
			</h:form>
			
			<h:form id="tabelaCidades">
				<h:dataTable  value="#{cidadeBean.listadeCidades}" var="cid" border="3"	cellpadding="6">
					<f:facet name="header">	Lista de Usuários Cadastrados	</f:facet>
					<h:column>
						<f:facet name="header">ID</f:facet>
						<h:outputText value="#{cid.id}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Cidade</f:facet>
						<h:outputText value="#{cid.nome}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Estado</f:facet>
						<h:outputText value="#{cid.estado.nome}"></h:outputText>
					</h:column>
					
					<h:column>
						<f:facet name="header">Editar</f:facet>
						<h:commandLink title="Editar">
					<f:setPropertyActionListener value="#{cid}"
						target="#{cidadeBean.cidades}" />
					<h:graphicImage value="/resources/img/caneta.png" />
				</h:commandLink>
					</h:column>
					
					<h:column>
					<f:facet name="header">Excluir</f:facet>
					<h:commandLink title="Excluir" action="#{cidadeBean.delete}">
						<f:setPropertyActionListener value="#{cid}" target="#{cidadeBean.cidades}"/>
							<h:graphicImage value= "/resources/img/excluir.png"/>
						
					</h:commandLink>
					</h:column>
				</h:dataTable>
			</h:form>
	
	
	</h:body>
</html>